<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Altas</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <header>
        <h1>Formulario de Altas (Agregar Registros)</h1>
    </header>
    <div class="main-container">
        <!-- Sensores con imágenes y valores -->
        <div class="sensor-grid">
            <div class="sensor-card">
                <img src="/static/imagen/ID.png" alt="ID" class="sensor-img">
                <h3>ID del dato</h3>
                <p id="sensor5-value">Valor: 0</p>
            </div>
            <div class="sensor-card">
                <img src="/static/imagen/calidad_aire.png" alt="Calidad de Aire" class="sensor-img">
                <h3>Calidad de Aire</h3>
                <p id="sensor1-value">Valor: 0</p>
            </div>
            <div class="sensor-card">
                <img src="/static/imagen/humedad.png" alt="Humedad" class="sensor-img">
                <h3>Humedad</h3>
                <p id="sensor4-value">Valor: 0</p>
            </div>
            <div class="sensor-card">
                <img src="/static/imagen/temperatura.png" alt="Temperatura" class="sensor-img">
                <h3>Temperatura</h3>
                <p id="sensor3-value">Valor: 0</p>
            </div>
            <div class="sensor-card">
                <img src="/static/imagen/ultrasonico.png" alt="Ultrasónico" class="sensor-img">
                <h3>Ultrasónico</h3>
                <p id="sensor2-value">Valor: 0</p>
            </div>
        </div>
    </div>
    <form action="/altas" method="POST">
        <label for="tiempo" class="sensor-card">Tiempo:</label>
        <input type="text" id="tiempo" name="tiempo" required><br>

        <label for="aire" class="sensor-card">Aire (valor numérico):</label>
        <input type="number" step="any" id="aire" name="aire" required><br>

        <label for="ultrasonico" class="sensor-card">Ultrasonico (valor numérico):</label>
        <input type="number" step="any" id="ultrasonico" name="ultrasonico" required><br>

        <label for="temperatura" class="sensor-card">Temperatura (valor numérico):</label>
        <input type="number" step="any" id="temperatura" name="temperatura" required><br>

        <label for="humedad" class="sensor-card">Humedad (valor numérico):</label>
        <input type="number" step="any" id="humedad" name="humedad" required><br>

        <button type="submit" class="btn-info">Agregar Registro</button>
    </form>
    <style>
        label {
            margin-bottom: 30px; /* Espacio entre los labels */
        }
        input {
            margin-bottom: 30px; /* Espacio entre inputs */
        }
    </style>
    <!-- Botones en la esquina inferior derecha -->
    <div class="btn-container">
        <a href="/" class="btn-info">Volver a la página principal</a>
    </div>>
    <script>
        const socket = io();
    
        // Escucha el evento 'updateTable' y actualiza la información de los sensores
        socket.on('updateTable', (data) => {
            // Actualiza los valores de los sensores en tiempo real
            $('#sensor1-value').text("Valor: " + data.aire);
            $('#sensor2-value').text("Valor: " + data.Ultrasonico);
            $('#sensor3-value').text("Valor: " + data.Temperatura);
            $('#sensor4-value').text("Valor: " + data.Humedad);
            $('#sensor5-value').text("ID: " + data.id);
        });
    </script>
</body>
</html>
